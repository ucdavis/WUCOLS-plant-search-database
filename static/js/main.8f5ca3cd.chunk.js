(this.webpackJsonpwucols=this.webpackJsonpwucols||[]).push([[0],{376:function(e,t,a){},377:function(e,t,a){},385:function(e,t){},387:function(e,t){},414:function(e,t){},415:function(e,t){},529:function(e,t){},724:function(e,t){},726:function(e,t){},754:function(e,t){},756:function(e,t){},757:function(e,t){},763:function(e,t){},765:function(e,t){},783:function(e,t){},786:function(e,t){},802:function(e,t){},805:function(e,t){},818:function(e,t,a){},819:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(18),c=a.n(r),o=(a(376),a(55)),i=a(9),s=a(14),m=(a(377),a(126)),u={width:"100%",height:"70vh"},d=function(e){var t=e.city,a=e.onClick,n=l.a.useRef(null),r=new window.google.maps.InfoWindow({content:"<div>".concat(t.name,"</div>")}),c=function(e){if(e){var t,a=null===(t=n.current)||void 0===t?void 0:t.marker,l=null===a||void 0===a?void 0:a.map;r.open({anchor:a,map:l,shouldFocus:!1})}else r.close()};return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.b,{position:t.position,ref:function(e){return n.current=e},onClick:function(){a(t),r.close()},onMouseOver:function(){c(!0)},onMouseOut:function(){c(!1)}}))},p=["geometry"];function f(e){var t=e.cities,a=e.onSelect,n=Object(m.c)({id:"google-map-script",libraries:p,googleMapsApiKey:"AIzaSyAZFoNAzOr6afk9mmf_CMQ_uf4c1bX8lZg"}).isLoaded,r=l.a.useState(null),c=Object(s.a)(r,2)[1],o=function(e,t){var a=new window.google.maps.LatLngBounds;t.forEach((function(e){a.extend(e)})),e.fitBounds(a)},i=l.a.useCallback((function(e){var a=t.map((function(e){return new google.maps.LatLng(e.position)})),n=void 0;o(e,a),c(e),window.map=e,console.log("fit bounds to ".concat(t.length," cities"));var l=window.document.createElement("div");l.style.marginBottom="2em",l.style.display="flex",l.style.flexDirection="column",l.innerHTML='\n        <button\n          draggable="false" \n          aria-label="Use my location"\n          title="Use my location"\n          type="button"\n          aria-pressed="true"\n          style=" background: none padding-box rgb(255, 255, 255); display: table-cell; border: 0px; margin: 0px; padding: 0px 17px; text-transform: none; appearance: none; position: relative; cursor: pointer; user-select: none; direction: ltr; overflow: hidden; text-align: center; height: 40px; vertical-align: middle; color: rgb(0, 0, 0); font-family: Roboto, Arial, sans-serif; font-size: 18px; border-bottom-left-radius: 2px; border-top-left-radius: 2px; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 4px -1px; min-width: 35px; font-weight: 500; margin-bottom:1em;" aria-expanded="false">\n            Use my location\n          </button>',l.innerHTML+='\n        <button\n          draggable="false" \n          aria-label="View all cities"\n          title="View all cities"\n          type="button"\n          aria-pressed="true"\n          style="background: none padding-box rgb(255, 255, 255); display: table-cell; border: 0px; margin: 0px; padding: 0px 17px; text-transform: none; appearance: none; position: relative; cursor: pointer; user-select: none; direction: ltr; overflow: hidden; text-align: center; height: 40px; vertical-align: middle; color: rgb(0, 0, 0); font-family: Roboto, Arial, sans-serif; font-size: 18px; border-bottom-left-radius: 2px; border-top-left-radius: 2px; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 4px -1px; min-width: 35px; font-weight: 500;" aria-expanded="false">\n            View All Cities\n          </button>',e.controls[window.google.maps.ControlPosition.BOTTOM_CENTER].push(l),window.extraControls=l;var r=l.getElementsByTagName("button");r[1].addEventListener("click",(function(){o(e,a)})),r[0].addEventListener("click",(function(){window.navigator.geolocation.getCurrentPosition((function(a){var l=new window.google.maps.LatLng({lat:a.coords.latitude,lng:a.coords.longitude});window.currentPosition=l,console.log("Your current position is:",l);var r=t.map((function(e){var t=new window.google.maps.LatLng(e.position);return{city:e,cityPosition:t,distance:window.google.maps.geometry.spherical.computeDistanceBetween(l,t)}})).sort((function(e,t){return e.distance-t.distance})).slice(0,5);o(e,r.map((function(e){return e.cityPosition}))),window.setTimeout((function(){n&&n.setMap(null),(n=new window.google.maps.Marker({map:e,draggable:!1,animation:window.google.maps.Animation.DROP,icon:"http://maps.google.com/mapfiles/kml/shapes/man.png",zIndex:0,position:l})).addListener("click",(function(){n&&(null!==n.getAnimation()?n.setAnimation(null):n.setAnimation(window.google.maps.Animation.BOUNCE))}))}),1e3),console.log(r)}),(function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message)),alert(3===e.code?"Unable to get your location in a reasonable amount of time":"Unable to get your location")}),{enableHighAccuracy:!1,timeout:5e3,maximumAge:6e4})}))}),[t]),f=l.a.useCallback((function(e){c(null)}),[]);return n?l.a.createElement(m.a,{mapContainerStyle:u,onLoad:i,onUnmount:f},t.map((function(e){return l.a.createElement(d,{key:e.id,city:e,onClick:a})}))):l.a.createElement(l.a.Fragment,null)}var b=l.a.memo(f);var g=function(e,t){var a=l.a.useState((function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return console.log(n),t}})),n=Object(s.a)(a,2),r=n[0],c=n[1];return[r,function(t){try{var a=t instanceof Function?t(r):t;c(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(n){console.log(n)}}]},E={VL:1,LO:2,M:3,H:4,U:5,NA:7},y=function(e){return E[e]||99},h=function(e){return function(t){return t.sort((function(t,a){var n=y(t.waterUseByRegion[e-1]),l=y(a.waterUseByRegion[e-1]);return n<l?-1:n>l?1:0}))}},v=function(e){var t=e.type,a=e.plantTypeNameByCode;return l.a.createElement("span",null,l.a.createElement("span",{className:"badge badge-plantType"},"A"===t&&l.a.createElement("span",{role:"img","aria-label":"flower"},"\ud83c\udf38"," "),a[t])," ")},w=a(33),N=a(21),C=function(e){var t=e.waterUseCode,a=function(e){var t=e.filled;return l.a.createElement("span",{style:{opacity:t?1:.3,color:t?"#007bff":"grey",padding:"0 2px"}},l.a.createElement(w.a,{icon:N.j}))},n=l.a.createElement(a,null),r=l.a.createElement(a,{filled:!0});switch(t){case"VL":return l.a.createElement(l.a.Fragment,null,r,n,n,n);case"LO":return l.a.createElement(l.a.Fragment,null,r,r,n,n);case"M":return l.a.createElement(l.a.Fragment,null,r,r,r,n);case"H":return l.a.createElement(l.a.Fragment,null,r,r,r,r);case"U":return l.a.createElement(l.a.Fragment,null,n,n,n,n);default:return l.a.createElement(l.a.Fragment,null,"N/A")}},x=function(e){var t=e.plant,a=e.togglePlantFavorite,n=e.isPlantFavorite,r=function(){return l.a.createElement(w.a,{icon:N.g})},c="drop-shadow( 0px 1px 1px rgba(0, 0, 0, .3))";return l.a.createElement("button",{title:n(t)?"This plant is in your favorites.  Click to remove it.":"Click to add this plant to your favorites.",className:"btn "+(n(t)?" btn-warning":"btn-light"),onClick:function(){return a(t)}},n(t)?l.a.createElement("span",{style:{color:"hsl(60deg 100% 45%)",WebkitFilter:c,filter:c}},l.a.createElement(r,null)):l.a.createElement("span",null,l.a.createElement(r,null)))},O=a(47),j=function(e){var t=e.className,a=e.plants,n=e.photosByPlantName,r=e.plantTypeNameByCode,c=e.waterUseByCode,o=e.region,i=e.isPlantFavorite,s=e.togglePlantFavorite;return l.a.createElement("div",{className:"row no-gutters"},a.map((function(e){var a="150px",m=c[e.waterUseByRegion[o-1]],u=n[e.botanicalName]?n[e.botanicalName].small.url:"https://via.placeholder.com/200";return l.a.createElement("div",{className:t,key:e.id},l.a.createElement("div",{className:"card mr-2 mb-2"},l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"d-flex-shrink-0"},l.a.createElement("div",{style:{position:"relative"}},l.a.createElement("div",{style:{position:"absolute",top:"10px",right:"10px",color:"unset"}},l.a.createElement(x,{plant:e,togglePlantFavorite:s,isPlantFavorite:i})),l.a.createElement("img",{className:"card-img",style:{width:a,height:a,background:"url(".concat(u,")"),backgroundSize:"cover"},src:u,alt:e.botanicalName}))),l.a.createElement("div",{className:"d-flex-grow-1 ml-3 flex-fill"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"float-right text-right ml-3"},l.a.createElement(C,{waterUseCode:m.code}),l.a.createElement("br",null),l.a.createElement("small",null,m.name),l.a.createElement("br",null),l.a.createElement("small",null,m.percentageET0,"% ET",l.a.createElement("sub",null,"0"))),l.a.createElement(O.b,{to:"/plant/".concat(e.id)},l.a.createElement("h6",{className:"mt-0 mb-1"},l.a.createElement("em",null,e.botanicalName))),l.a.createElement("div",null,e.commonName),l.a.createElement("div",null,e.types.map((function(e){return l.a.createElement(v,{plantTypeNameByCode:r,type:e,key:e})}))))))))})))},k=function(e){var t,a=function(e){return new URL("https://wucols-frontend.ucdavis.edu/#/plant/:id".replace(":id",e.toString())).toString()}(e);return{destination_url:a,image_url:(t=a,"https://chart.googleapis.com/chart?chs=500x500&cht=qr&choe=UTF-8&chl=".concat(encodeURIComponent(t)))}},T=function(e){var t=e.plant,a=e.style,n=k(t.id),r=n.destination_url,c=n.image_url;return l.a.createElement("a",{href:r,target:"_blank",rel:"noreferrer"},l.a.createElement("img",{src:c,alt:"QR Code for "+t.botanicalName,className:"img-responsive",style:Object(i.a)({width:"64px"},a||{})}))},F=function(e){var t=e.queryString,a=e.showAvailableMedia,n=e.plants,r=e.photosByPlantName,c=e.plantTypeNameByCode,o=e.waterUseByCode,i=e.region,s=e.isPlantFavorite,m=e.togglePlantFavorite;return l.a.createElement("table",{className:"table table-sm "},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{rowSpan:2},"Photo"),l.a.createElement("th",{rowSpan:2},"Name"),a&&l.a.createElement(l.a.Fragment,null,l.a.createElement("th",{rowSpan:2},"QR Code")),l.a.createElement("th",{rowSpan:2},"Water Use"),l.a.createElement("th",{rowSpan:2},"Type(s)"),l.a.createElement("th",{rowSpan:2},"Favorite"))),l.a.createElement("tbody",null,n.map((function(e){var n="64px",u=o[e.waterUseByRegion[i-1]],d=r[e.botanicalName]?r[e.botanicalName].small.url:"https://via.placeholder.com/200";return l.a.createElement("tr",{key:e.id},l.a.createElement("td",{style:{width:n}},l.a.createElement("img",{className:"card-img mr-2",style:{width:n,height:n,background:"url(".concat(d,")"),backgroundSize:"cover"},src:d,alt:e.botanicalName})),l.a.createElement("td",null,l.a.createElement(O.b,{to:"/plant/".concat(e.id).concat(t)},l.a.createElement("h6",{className:"mt-0 mb-1"},l.a.createElement("em",null,e.botanicalName))),l.a.createElement("div",null,e.commonName)),a&&l.a.createElement("td",null,l.a.createElement(T,{plant:e})),l.a.createElement("td",null,l.a.createElement(C,{waterUseCode:u.code}),l.a.createElement("small",{className:"ml-2"},u.name),l.a.createElement("br",null),l.a.createElement("small",null,u.percentageET0,"% ET",l.a.createElement("sub",null,"0"),l.a.createElement("br",null),"Plant Factor: ",u.plantFactor)),l.a.createElement("td",null,e.types.map((function(e){return l.a.createElement(v,{plantTypeNameByCode:c,type:e,key:e})}))),l.a.createElement("td",null,l.a.createElement(x,{plant:e,togglePlantFavorite:m,isPlantFavorite:s})))}))))},S=[{label:"Match plants with ANY of",value:"ANY",fn:function(e,t){return e||t}},{label:"Match plants with ALL of",value:"ALL",fn:function(e,t){return e&&t}}],U={default:S[0],array:S,byId:S.reduce((function(e,t){return e[t.value]=t,e}),{})},P=a(201),B=function(e){var t=e.cities,a=e.visible,n=e.setVisible,r=e.onCityChange;return l.a.createElement(l.a.Fragment,null,a&&l.a.createElement("div",{className:"modal fade"+(a?" show":""),style:{display:a?"block":"none"},id:"mapModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",style:{top:"30px"}},l.a.createElement("div",{className:"modal-content",style:{width:"65vw",position:"fixed",left:"17vw"}},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"City Map"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return n(!1)}},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement(b,{cities:t,onSelect:function(e){r(e),n(!1)}}))))))},I=function(e){var t=e.cityOptions,a=e.searchCriteria,n=e.plantTypes,r=e.waterUseClassifications,c=e.updateSearchCriteria,m=l.a.useState(!1),u=Object(s.a)(m,2),d=u[0],p=u[1],f=function(e){c(Object(i.a)(Object(i.a)({},a),{},{pageNumber:1,waterUseClassifications:r.reduce((function(t,a){return t[a.code]=e,t}),{})}))},b=function(e){c(Object(i.a)(Object(i.a)({},a),{},{pageNumber:1,city:e}))},g=function(e){c(Object(i.a)(Object(i.a)({},a),{},{pageNumber:1,plantTypes:n.reduce((function(t,a){return t[a.code]=e,t}),{})}))},E=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement("strong",null,"Plant Name")),l.a.createElement("input",{type:"search",className:"form-control",value:a.name,placeholder:"botanical or common name",onChange:function(e){return c(Object(i.a)(Object(i.a)({},a),{},{pageNumber:1,name:e.target.value.toLowerCase()}))}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},l.a.createElement("strong",null,"Water Use")),l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-sm btn-link",onClick:function(){return f(!0)}},"Select all"),"/"," ",l.a.createElement("button",{className:"btn btn-sm btn-link",onClick:function(){return f(!1)}},"Deselect all")),r.map((function(e){return l.a.createElement("div",{className:"form-check",key:e.code},l.a.createElement("input",{className:"form-check-input",type:"checkbox",checked:a.waterUseClassifications[e.code],onChange:function(t){return c(Object(i.a)(Object(i.a)({},a),{},{pageNumber:1,waterUseClassifications:Object(i.a)(Object(i.a)({},a.waterUseClassifications),{},Object(o.a)({},e.code,t.target.checked))}))},id:e.code+"_checkbox"}),l.a.createElement("label",{className:"form-check-label",htmlFor:e.code+"_checkbox"},e.name))}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},l.a.createElement("strong",null,"Plant Types")),l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-sm btn-link",onClick:function(){return g(!0)}},"Select all"),"/",l.a.createElement("button",{className:"btn btn-sm btn-link",onClick:function(){return g(!1)}},"Deselect all")),l.a.createElement("div",null,l.a.createElement(P.a,{styles:{container:function(e){return Object(i.a)(Object(i.a)({},e),{},{flex:1})}},options:U.array,value:a.plantTypeCombinator,onChange:function(e){c(Object(i.a)(Object(i.a)({},a),{},{pageNumber:1,plantTypeCombinator:e}))},noOptionsMessage:function(){return"No result"}})),n.map((function(e){return l.a.createElement("div",{className:"form-check",key:e.code},l.a.createElement("input",{className:"form-check-input",type:"checkbox",checked:a.plantTypes[e.code]||!1,onChange:function(t){return n=e.code,l=t.target.checked,c(Object(i.a)(Object(i.a)({},a),{},{pageNumber:1,plantTypes:Object(i.a)(Object(i.a)({},a.plantTypes),{},Object(o.a)({},n,l))}));var n,l},id:e.code+"_checkbox"}),l.a.createElement("label",{className:"form-check-label",htmlFor:e.code+"_checkbox"},e.name))}))));return l.a.createElement("div",null,l.a.createElement(B,{visible:d,setVisible:p,onCityChange:b,cities:t}),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement("strong",null,"City/Region"),l.a.createElement("br",null),"Start typing to search"),l.a.createElement(P.a,{styles:{container:function(e){return Object(i.a)(Object(i.a)({},e),{},{flex:1})}},options:t,placeholder:"Select a city",value:a.city,onChange:b,noOptionsMessage:function(){return"No cities found by that name"}})," or ",l.a.createElement("button",{className:"btn btn-link btn-sm",onClick:function(){return p(!0)}},l.a.createElement(w.a,{icon:N.d})," Select a city from the map")),a.city?E:l.a.createElement(l.a.Fragment,null))},A=function(){return l.a.createElement("div",{className:"welcome-wrapper"},l.a.createElement("h1",null,"Welcome to WUCOLS"),l.a.createElement("p",{className:"lead"},"WUCOLS"," ",l.a.createElement("span",{className:"discreet"},"Water Use Classification of Landscape Species")," ",l.a.createElement("br",null),"helps you create a landscape plan based on plant water use within your city/region."),l.a.createElement("h2",null,"Instructions:"),l.a.createElement("hr",null),l.a.createElement("ol",{className:"instructionlist"},l.a.createElement("li",null,l.a.createElement("p",null,l.a.createElement("b",null,"Select a City/Region")," ",l.a.createElement("br",null),"This will determine the appropriate water use rating for each plant.")),l.a.createElement("li",null,l.a.createElement("p",null,l.a.createElement("b",null,"Search a Plant")," ",l.a.createElement("br",null),'Enter any combination of "Plant Name, Water Use, Plant Types" to find plants of interest')),l.a.createElement("li",null,l.a.createElement("p",null,l.a.createElement("b",null,"Favorite")," ",l.a.createElement("br",null),"Assemble a list of your plants that meet your needs.")),l.a.createElement("li",null,l.a.createElement("p",null,l.a.createElement("b",null,"Download")," ",l.a.createElement("br",null),"Download your list in a variety of formats"))))},L=a(57),R=a.n(L),D=a(192),M=a(193),_=a(39),W=function(e){var t=e.downloadActions;return 0===t.length?l.a.createElement(l.a.Fragment,null):l.a.createElement("div",{className:"mb-3 d-flex flex-column justify-content-around"},l.a.createElement("div",{className:"mb-3"},t.map((function(e,t){return l.a.createElement("div",{className:"my-2",key:t},l.a.createElement("button",{className:"btn btn-primary btn-block",onClick:e.method},e.label))}))),l.a.createElement("p",null,"QR Codes and Bench Cards can be downloaded individually for each plant from that plant's detail screen."))},V=a(194),z=a.n(V),Q=a(195),q=a(17),H=function(e,t,a){return[{columns:["Type(s)","Botanical Name","Common Name"].concat(Object(_.a)(a.flatMap((function(e){return["Region ".concat(e," Water Use"),"Region ".concat(e," ET0"),"Region ".concat(e," Plant Factor")]})))),data:t.map((function(t){return[t.types.map((function(t){return e.plantTypeNameByCode[t]})).join(", "),t.botanicalName,t.commonName].concat(Object(_.a)(a.flatMap((function(a){return[e.waterUseByCode[t.waterUseByRegion[a-1]].name,e.waterUseByCode[t.waterUseByRegion[a-1]].percentageET0+"%",e.waterUseByCode[t.waterUseByRegion[a-1]].plantFactor]}))))}))}]},Y=a(200),G=a.n(Y),J=a(824),Z=a(820),K=a(821),X=a(822),$=a(825),ee=a(823),te=!1,ae=q.StyleSheet.create({page:{textAlign:"center",backgroundColor:"white"},waterUseClassificationBox:{backgroundColor:"#304971",padding:"8pt",width:"44%",textAlign:"center"},logo:{},logos:{},section:{margin:10,padding:10,flexGrow:1}}),ne=function(){q.Font.register({family:"FontAwesome",src:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/fonts/fontawesome-webfont.ttf"});var e=function(e){var t=e.filled;return l.a.createElement(q.Text,{style:{opacity:t?1:.3,color:t?"#007bff":"grey",fontFamily:"FontAwesome"}},"\uf043")},t=l.a.createElement(e,null),a=l.a.createElement(e,{filled:!0});return{"?":l.a.createElement(l.a.Fragment,null,t,t,t,t),N:l.a.createElement(l.a.Fragment,null,t,t,t,t),VL:l.a.createElement(l.a.Fragment,null,a,t,t,t),LO:l.a.createElement(l.a.Fragment,null,a,a,t,t),M:l.a.createElement(l.a.Fragment,null,a,a,a,t),H:l.a.createElement(l.a.Fragment,null,a,a,a,a)}}(),le=function(e){var t=e.waterUseCode;return l.a.createElement(q.View,{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",margin:"0 25%"}},ne[t])||l.a.createElement(l.a.Fragment,null,"N/A")},re=function(e){var t=e.plant,a=e.region,n=e.waterUseByCode,r=e.benchCardTemplate,c=t,o=k(t.id).image_url,i=n[c.waterUseByRegion[a-1]],s=c.photos[0],m=(s?s.small.url:"").replace("wucolsplants.sf.ucdavis.edu","wucols-proxy.azurewebsites.net/api/wucols-proxy"),u=r.sizeInInches,d={x:72*u.x,y:72*u.y},p={height:"".concat(u.y/5,"in"),width:"auto"};return l.a.createElement(q.Document,null,l.a.createElement(q.Page,{size:[d.x,d.y],style:ae.page},l.a.createElement(q.View,{debug:te,style:{display:"flex",height:"100%",padding:"18pt",flexDirection:"column",justifyContent:"space-evenly"}},l.a.createElement(q.View,null,l.a.createElement(q.Text,{debug:te,style:{fontSize:"".concat(.5,"in"),fontWeight:"extrabold"}},t.botanicalName),l.a.createElement(q.Text,{debug:te,style:{fontSize:"25pt",fontWeight:"normal",fontStyle:"italic",padding:"20pt"}},t.commonName)),l.a.createElement(q.View,{debug:te,style:{display:"flex",flexDirection:"row",padding:"".concat(u.x/11/8,"in"),justifyContent:"space-around"}},!!m&&l.a.createElement(q.Image,{debug:te,src:m,style:{width:"45%"}}),l.a.createElement(q.View,{debug:te,style:[ae.waterUseClassificationBox,{fontSize:"".concat(u.x/11/4,"in")}]},l.a.createElement(q.Text,{style:{color:"white",paddingBottom:"".concat(u.x/11/8,"in")}},"Water Use Classification"),l.a.createElement(q.View,{style:{backgroundColor:"white",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"space-evenly"}},l.a.createElement(q.Text,null,i.name),l.a.createElement(q.View,{style:{fontSize:"".concat(u.x/11/2,"in")}},l.a.createElement(le,{waterUseCode:i.code})),l.a.createElement(q.View,null,l.a.createElement(q.Text,null,"Central Valley"),l.a.createElement(q.Text,null,"(WUCOLS Region 2)")),l.a.createElement(q.Text,null,"(Source: WUCOLS IV)")))),l.a.createElement(q.View,{debug:te,style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",padding:"2em",margin:"5em"}},l.a.createElement(q.Image,{debug:te,src:"/logo-dwr.png",style:p}),l.a.createElement(q.Image,{debug:te,src:"/logo-ucd-ccuh.png",style:p}),l.a.createElement(q.Image,{debug:te,src:"/logo-ucanr.png",style:p}),l.a.createElement(q.Image,{debug:te,src:o,style:p})))))};re.defaultProps={benchCardTemplate:void 0};var ce=re,oe=function(e){var t=e.searchCriteria,a=e.data,n=e.plants,r=l.a.useState(null),o=Object(s.a)(r,2),i=o[0],m=o[1],u=l.a.useRef(!1),d=l.a.useState(!1),p=Object(s.a)(d,2),f=p[0],b=p[1],g=l.a.useState(0),E=Object(s.a)(g,2),y=E[0],h=E[1],v=l.a.useState(0),C=Object(s.a)(v,2),x=C[0],O=C[1];l.a.useEffect((function(){if(f&&i&&!u.current){O(n.length),h(0);var e=function(){var e=Object(D.a)(R.a.mark((function e(){var r,c,o,d,p,f,g;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(n.map(function(){var e=Object(D.a)(R.a.mark((function e(r){var c,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!u.current){e.next=3;break}throw new Error("Download cancelled");case 3:return e.next=5,Object(q.pdf)(l.a.createElement(ce,{benchCardTemplate:i,plant:r,region:t.city.region,waterUseByCode:a.waterUseByCode})).toBlob();case 5:c=e.sent,o=0,h((function(e){return o=0===e?1:e+1})),console.log("generated bench card ".concat(o," of ").concat(n.length)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),"Download cancelled"===e.t0.message?console.log(e.t0.message):console.error(e.t0);case 14:return e.abrupt("return",[r,c]);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()));case 3:if(r=e.sent,!u.current){e.next=6;break}throw new Error("Download cancelled");case 6:c=new z.a,o=Object(M.a)(r);try{for(o.s();!(d=o.n()).done;)p=Object(s.a)(d.value,2),f=p[0],g=p[1],c.file(f.commonName+".pdf",g,{blob:!0})}catch(E){o.e(E)}finally{o.f()}return e.next=11,c.generateAsync({type:"blob"}).then((function(e){Object(Q.saveAs)(e,"bench-cards-".concat(i.name,".zip"))}));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),"Download cancelled"===e.t0.message?console.log(e.t0.message):console.error(e.t0);case 16:return e.prev=16,b(!1),h(0),O(0),m(null),u.current=!1,e.finish(16);case 23:case"end":return e.stop()}}),e,null,[[0,13,16,23]])})));return function(){return e.apply(this,arguments)}}();e()}}),[f,b,i]);var j=W({downloadActions:function(e,t,a){var n=G.a.ExcelFile,r=G.a.ExcelFile.ExcelSheet,o=function(e){var t=document.getElementById("download-outlet");c.a.render(l.a.createElement(l.a.Fragment,null),t,(function(){c.a.render(e,t)}))};return[{include:!!t.city,method:function(){Promise.all(a.map((function(e){return fetch(k(e.id).image_url).then((function(e){return e.blob()})).then((function(t){return[e,t]}))}))).then((function(e){var t,a=new z.a,n=Object(M.a)(e);try{for(n.s();!(t=n.n()).done;){var l=Object(s.a)(t.value,2),r=l[0],c=l[1];a.file(r.commonName+".png",c,{blob:!0})}}catch(o){n.e(o)}finally{n.f()}a.generateAsync({type:"blob"}).then((function(e){Object(Q.saveAs)(e,"qr-codes.zip")}))}))},label:l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a,{icon:N.e,className:"mr-2"}),"Download QR codes")}].concat(Object(_.a)(e.benchCardTemplates.map((function(e){return{include:!!t.city,method:function(){u.current||(m(e),b(!0))},label:l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a,{icon:N.c,className:"mr-2"}),"Download Bench Cards (",e.name,")")}}))),[{include:!!t.city,method:function(){var c=H(e,a,[t.city.region]);o(l.a.createElement(n,{filename:"WUCOLS_".concat(t.city.name),hideElement:!0},l.a.createElement(r,{dataSet:c,name:"WUCOLS_".concat(t.city.name)})))},label:l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a,{icon:N.b,className:"mr-2"}),"Download in Excel format")},{include:!t.city,method:function(){console.log("preparing Excel...");var t=H(e,e.plants,[1,2,3,4,5,6]);console.log("rendering..."),o(l.a.createElement(n,{filename:"WUCOLS_all_regions",hideElement:!0},l.a.createElement(r,{dataSet:t,name:"WUCOLS_all_regions"}))),console.log("rendered")},label:l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a,{icon:N.b,className:"mr-2"}),"Download WUCOLS plants for all regions")}]).filter((function(e){return e.include}))}(a,t,n)}),T=l.a.createElement(J.a,{show:f,onHide:function(){u.current=!0,b(!1)}},l.a.createElement(J.a.Header,{closeButton:!0},l.a.createElement(J.a.Title,null,"Generating Zip file")),l.a.createElement(J.a.Body,null,l.a.createElement(Z.a,{fluid:!0},l.a.createElement(K.a,null,l.a.createElement(X.a,null,"Please wait. It can take a few seconds per bech card.")),l.a.createElement(K.a,null,l.a.createElement(X.a,null,l.a.createElement($.a,{now:Math.round(y/x*100),label:"".concat(y," of ").concat(x)}))))),l.a.createElement(J.a.Footer,null,l.a.createElement(ee.a,{variant:"primary",onClick:function(){u.current=!0,b(!1)}},"Cancel")));return l.a.createElement(l.a.Fragment,null,T,j)},ie=a(369),se=a.n(ie),me=a(826),ue=function(e,t,a,n){var l,r,c,o=Math.max(1,Math.ceil(t/e)),i=(r=1,c=o,!(l=a)||l<r?r:c<l?c:l);console.log(a,1,o,i);return{currentPageNumber:i,setCurrentPageNumber:n,pageCount:o,pageSize:e,getCurrentItems:function(t){return t.slice((i-1)*e,(i+1)*e)}}},de=function(e){var t=e.pageCount,a=e.currentPageNumber,n=e.setCurrentPageNumber;if(!(t<=1)){var r=se.a.getPaginationModel({currentPage:a,totalPages:t,boundaryPagesRange:1,siblingPagesRange:1,hideEllipsis:!1,hidePreviousAndNextPageLinks:!1,hideFirstAndLastPageLinks:!1});return l.a.createElement(me.a,null,r.map((function(e){var t={key:e.key,active:e.isActive,onClick:function(){return n(e.value)}};switch(e.type){case"PAGE":return l.a.createElement(me.a.Item,t,e.value);case"ELLIPSIS":return l.a.createElement(me.a.Ellipsis,t);default:return}})).filter((function(e){return!!e})))}},pe=function(e){var t=e.data,a=e.searchCriteria,n=e.searchPerformed,r=e.setSearchCriteria,c=e.isPlantFavorite,o=e.togglePlantFavorite,m=e.queryString,u=(e.resetSearchCriteria,e.addAllToFavorites),d=[{id:"list",label:"List",component:F,icon:N.a},{id:"grid",label:"Grid",component:function(e){return j(Object(i.a)(Object(i.a)({},e),{},{className:"col-sm-12 col-lg-6 col-xl-6"}))},icon:N.i},{id:"dense-grid",label:"Dense Grid",component:function(e){return j(Object(i.a)(Object(i.a)({},e),{},{className:"col-sm-12 col-lg-6 col-xl-4"}))},icon:N.h}],p=l.a.useState(d[0].id),f=Object(s.a)(p,1)[0],b=d.filter((function(e){return e.id===f}))[0]||d[0],g=l.a.useMemo((function(){var e=Object.values(a.plantTypes).every((function(e){return!e})),n=Object.values(a.waterUseClassifications).every((function(e){return!e})),l=Object.entries(a.plantTypes).filter((function(e){var t=Object(s.a)(e,2);t[0];return!!t[1]})).map((function(e){var t=Object(s.a)(e,2),a=t[0];t[1];return a})),r=a.plantTypeCombinator===U.byId.ANY?l.some.bind(l):l.every.bind(l);return a.city?h(a.city.region)(t.plants.filter((function(t){var l=e||r((function(e){return t.types.indexOf(e)>-1}));if(!a.city)return!1;var c=t.waterUseByRegion[a.city.region-1],o=a.waterUseClassifications[c]||n,i=!a.name||t.searchName.indexOf(a.name)>-1;return o&&l&&i}))).slice(0,5e4):[]}),[t,a]),E=ue(50,g.length,a.pageNumber,(function(e){return r(Object(i.a)(Object(i.a)({},a),{},{pageNumber:e}))})),y=de(Object(i.a)({},E));return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("nav",{className:"col-sm-5 col-lg-4 col-xl-3 sidebar bg-light"},l.a.createElement("div",{className:"sidebar-sticky p-3"},l.a.createElement(I,{waterUseClassifications:t.waterUseClassifications,plantTypes:t.plantTypes,cityOptions:t.cityOptions,searchCriteria:a,updateSearchCriteria:r}),!a.city&&l.a.createElement(oe,{searchCriteria:a,data:t,plants:t.plants}))),l.a.createElement("main",{className:"col-sm-7 col-lg-8 col-xl-9 ml-sm-auto",role:"main"},n?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"d-flex justify-content-between align-items-center mb-3"},l.a.createElement("div",null,"Matching Plants: ",g.length)),l.a.createElement("div",{className:"clearfix"},l.a.createElement("button",{className:"btn btn-sm btn-primary float-right",onClick:function(){return u(g)}},"Add all matches to favorites"),y),a.city?l.a.createElement(b.component,{queryString:m,isPlantFavorite:c,togglePlantFavorite:o,plants:E.getCurrentItems(g),photosByPlantName:t.photos,plantTypeNameByCode:t.plantTypeNameByCode,region:a.city.region,waterUseByCode:t.waterUseByCode}):l.a.createElement("div",null,"Please select a city"),y):l.a.createElement(A,null))))},fe=a(120),be=function(e){var t=e.plant,a=e.plantTypeNameByCode,n=e.waterUseByCode,r=e.region,c=e.regions,o=e.benchCardTemplates,i=e.isPlantFavorite,m=e.togglePlantFavorite;if(!t)return l.a.createElement("div",null,"Invalid Plant");var u=c.map((function(e){return[e,n[t.waterUseByRegion[e.id-1]]]})),d="64px",p=t.photos[0],f=p?p.small.url:"",b=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"float-right h2"},l.a.createElement(x,{plant:t,togglePlantFavorite:m,isPlantFavorite:i})),l.a.createElement("div",{className:"d-flex flex-row bd-highlight align-items-center mb-4 "},f&&l.a.createElement("img",{className:"mr-3",src:f,style:{objectFit:"cover",width:d,height:d},alt:t.botanicalName}),l.a.createElement("h1",{className:"m0"},l.a.createElement("em",null,t.botanicalName))),l.a.createElement("table",{className:"table table-bordered"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"25%"}},"Botanical Name"),l.a.createElement("td",null,l.a.createElement("em",null,t.botanicalName))),l.a.createElement("tr",null,l.a.createElement("th",null,"Common Name"),l.a.createElement("td",null,t.commonName)),l.a.createElement("tr",null,l.a.createElement("th",null,"Plant Type(s)"),l.a.createElement("td",null,t.types.map((function(e){return l.a.createElement(v,{type:e,plantTypeNameByCode:a,key:e})})))))),l.a.createElement("div",{className:"my-5"},l.a.createElement("h4",{className:"mb-4"},"Water Usage by Region"),l.a.createElement("table",{className:"table table-bordered table-sm"},l.a.createElement("tbody",null,u.map((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];return l.a.createElement("tr",{className:a.id===r?"table-primary":"",key:a.id},l.a.createElement("td",null,"Region ",a.id,": ",a.name),l.a.createElement("td",{style:{whiteSpace:"nowrap"}},l.a.createElement(C,{waterUseCode:n.code})),l.a.createElement("td",{style:{whiteSpace:"nowrap"}},n.name),l.a.createElement("td",{style:{whiteSpace:"nowrap"}},"N/A"===n.percentageET0?"N/A":l.a.createElement(l.a.Fragment,null,n.percentageET0,"% ET",l.a.createElement("sub",null,"0"))))}))))),!!t.culturalInformation&&l.a.createElement("div",null,l.a.createElement("h4",{className:"mb-4"},"Cultural Information"),l.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.culturalInformation}})),l.a.createElement("div",{className:"row mt-4"},!!t.photos.length&&l.a.createElement("div",{className:"col-sm-12"},l.a.createElement("h4",{className:"mb-4"},"Photos (",t.photos.length,")"),l.a.createElement(fe.a,{key:"plant gallery"},l.a.createElement("div",{className:"row row-cols-1 row-cols-md-3 g-4"},t.photos.map((function(e,t){return l.a.createElement("div",{className:"col",key:t},l.a.createElement("div",{className:"card mb-3",key:t},l.a.createElement("a",{href:e.small.url},l.a.createElement("img",{src:e.small.url,className:"card-img-top",alt:e.caption,style:{height:"10em",objectFit:"cover"}})),l.a.createElement("div",{className:"card-body text-center"},l.a.createElement("p",{className:"card-text"},e.caption))))})))))));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 col-xl-9 ml-sm-auto pt-3 pb-5 px-5"},b),l.a.createElement("nav",{className:"col-md-4 col-xl-3"},l.a.createElement("div",{className:"p-3"},l.a.createElement("div",{className:"d-flex flex-column"},o.map((function(e){return l.a.createElement("div",{className:"card mb-3 text-center",key:e.id},l.a.createElement("div",{className:"card-body d-flex flex-column justify-content-between"},l.a.createElement("h4",null,e.name," Bench Card"),l.a.createElement(O.b,{key:e.id,to:"/plant/".concat(t.id,"/benchcard/").concat(e.id),className:"mt-3 btn btn-primary",target:"_blank"},"Download")))})),l.a.createElement("div",{className:"card mr-3 text-center"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",null,"QR Code"),l.a.createElement(T,{plant:t,style:{width:"auto",maxWidth:"150px"}}))))))))},ge=function(e){var t=e.queryString,a=e.favoritePlants,n=e.data,r=e.isPlantFavorite,c=e.togglePlantFavorite,o=e.clearAllFavorites,m=e.searchCriteria,u=l.a.useState(0),d=Object(s.a)(u,2),p=d[0],f=d[1],b=ue(50,a.length,p,f),g=de(Object(i.a)({},b));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container-fluid"},a.length?l.a.createElement("div",{className:"row"},l.a.createElement("nav",{className:"col-sm-4 col-lg-3 col-xl-2 sidebar bg-light"},l.a.createElement("div",{className:"sidebar-sticky p-3"},!!a.length&&l.a.createElement(oe,{searchCriteria:m,data:n,plants:a}))),l.a.createElement("div",{className:"col-sm-8 col-lg-9 col-xl-10 ml-sm-auto"},l.a.createElement("div",{className:"my-3"},0===a.length?"You don't have any favorites yet.":l.a.createElement("div",{className:"clearfix"},"You have ",l.a.createElement("strong",null,a.length)," ","favorite",a.length>1?"s":""," so far.",l.a.createElement("button",{className:"btn btn-sm btn-danger float-right",onClick:o},"Clear All Favorites"))),m.city?l.a.createElement(l.a.Fragment,null,g,l.a.createElement(F,{queryString:t,showAvailableMedia:!0,isPlantFavorite:r,togglePlantFavorite:c,plants:b.getCurrentItems(a),photosByPlantName:n.photos,plantTypeNameByCode:n.plantTypeNameByCode,region:m.city.region,waterUseByCode:n.waterUseByCode}),g):l.a.createElement("div",null,"Select a city to view your favorites"))):l.a.createElement("div",{className:"py-5"},l.a.createElement("div",{className:"text-center mb-5"},l.a.createElement("div",{className:"h3"},"You do not have any favorite species yet"),l.a.createElement("p",null,"After you have added some favorites, you can download them in various formats.")),l.a.createElement("div",{className:"d-flex justify-content-around"},[{icon:N.b,label:"Spreadsheet"},{icon:N.e,label:"QR Codes"},{icon:N.c,label:"Bench Cards"}].map((function(e,t){return l.a.createElement("div",{className:"",key:t},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body text-center"},l.a.createElement(w.a,{icon:e.icon,className:"mt-2 h1"}),l.a.createElement("div",{className:"h5"},e.label))))}))))))},Ee=a(22),ye=a(121),he=function(e){return{city:null,name:"",waterUseClassifications:{},plantTypes:e.reduce((function(e,t){return e[t.code]=!1,e}),{}),pageNumber:1,plantTypeCombinator:U.default}},ve={fromQuerystring:function(e){var t=new URLSearchParams(e);return{pageNumber:parseInt(t.get("p")||"")||1,plantTypes:t.getAll("t").reduce((function(e,t){return e[t]=!0,e}),{}),name:(t.get("n")||"").toLowerCase(),plantTypeCombinatorId:t.get("tm")||"",cityId:parseInt(t.get("c")||"0"),waterUseClassifications:t.getAll("wu").reduce((function(e,t){return e[t]=!0,e}),{})}},toQuerystring:function(e){var t=Object.entries(e.waterUseClassifications).filter((function(e){return Object(s.a)(e,2)[1]})).map((function(e){return Object(s.a)(e,1)[0]})),a=Object.entries(e.plantTypes).filter((function(e){return Object(s.a)(e,2)[1]})).map((function(e){return Object(s.a)(e,1)[0]}));return new URLSearchParams([].concat(Object(_.a)(e.city?[["c",e.city.id.toString()]]:[]),Object(_.a)(e.name?[["n",e.name]]:[]),Object(_.a)(e.plantTypeCombinator===U.default?[]:[["tm",e.plantTypeCombinator.value]]),Object(_.a)(t.map((function(e){return["wu",e]}))),Object(_.a)(a.map((function(e){return["t",e]}))),Object(_.a)(1===e.pageNumber?[]:[["p",e.pageNumber.toString()]]))).toString()},getDefaultSearchCriteria:he,initSearchCriteria:function(e,t,a){var n=ve.fromQuerystring(e),l=he(a);return l.waterUseClassifications=n.waterUseClassifications,l.plantTypes=n.plantTypes,l.name=n.name,l.pageNumber=n.pageNumber,l.city=t.filter((function(e){return e.id===n.cityId}))[0]||l.city,n.plantTypeCombinatorId in U.byId&&(l.plantTypeCombinator=U.byId[n.plantTypeCombinatorId]),l}},we=ve;var Ne=function(e){var t=e.data,a=Object(Ee.g)(),n=Object(Ee.f)(),r=we.initSearchCriteria(a.search,t.cityOptions,t.plantTypes),c=function(){return m(we.getDefaultSearchCriteria(t.plantTypes))},m=l.a.useCallback((function(e){var t=we.toQuerystring(e);n.push({pathname:"/search",search:t})}),[n]),u=g("isFavoriteByPlantId",{}),d=Object(s.a)(u,2),p=d[0],f=d[1],E=h(r.city?r.city.region:0)(t.plants.filter((function(e){return!!p[e.id]}))),y=function(e){return!!p[e.id]},v=Object(ye.useToasts)(),C=v.addToast,x=v.removeToast,j=function(e){var t=Object.assign({},p),a=Object.assign(Object.assign({},t),Object.fromEntries(e.map((function(e){return[e.id,!0]}))));console.log(a),f(a);var n="";C(l.a.createElement("div",null,"Added ",e.length," favorites",l.a.createElement("button",{className:"btn btn-link",onClick:function(){f(t),x(n)}},"UNDO")),{appearance:"info",transitionState:"entered",autoDismiss:!0},(function(e){n=e}))};function k(e){var t=!p[e.id];f(Object(i.a)(Object(i.a)({},p),{},Object(o.a)({},e.id,t)));var a="";C(l.a.createElement("div",null,"Plant ",t?"added to":"removed from"," favorites",l.a.createElement("button",{className:"btn btn-link",onClick:function(){f(Object(i.a)(Object(i.a)({},p),{},Object(o.a)({},e.id,!t))),x(a)}},"UNDO")),{appearance:"info",transitionState:"entered",autoDismiss:!0},(function(e){a=e}))}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"App"},l.a.createElement("nav",{className:"navbar navbar-dark bg-dark sticky-top d-flex justify-content-between"},l.a.createElement("div",{className:"btn-group"},[{label:"Search",icon:N.f,to:"/search"+a.search},{label:"Favorites (".concat(E.length,")"),icon:N.g,to:"/favorites"+a.search,tooltip:"Download options available"}].map((function(e,t){return l.a.createElement(O.c,{key:t,activeClassName:"active",className:"btn btn-outline-light",to:e.to},l.a.createElement(w.a,{icon:e.icon}),l.a.createElement("span",{className:"ml-2",title:e.tooltip},e.label))}))),!!r.city&&l.a.createElement("button",{className:"btn btn-outline-light",onClick:function(){return c()}},"Clear Search Form (Start over)")),l.a.createElement(Ee.b,{exact:!0,path:"/"},l.a.createElement(Ee.a,{to:"/search"})),l.a.createElement(Ee.b,{path:"/map",render:function(e){e.match;return l.a.createElement("div",null,l.a.createElement(b,{cities:t.cities,onSelect:function(e){alert(e.name)}}))}}),l.a.createElement(Ee.b,{path:"/plant/:plantId",exact:!0,render:function(e){var a=e.match,n=parseInt(a.params.plantId),c=t.plants.filter((function(e){return e.id===n||e.url_keyword===a.params.plantId}))[0];return c?l.a.createElement("div",{className:"container-fluid"},l.a.createElement(fe.b,null,l.a.createElement(be,{plant:c,photos:t.photos[c.botanicalName]||[],benchCardTemplates:t.benchCardTemplates,plantTypeNameByCode:t.plantTypeNameByCode,waterUseByCode:t.waterUseByCode,waterUseClassifications:t.waterUseClassifications,region:r.city?r.city.region:0,togglePlantFavorite:k,isPlantFavorite:y,regions:t.regions}))):l.a.createElement("div",{className:"container-fluid my-5"},"No plant found by that ID")}}),l.a.createElement(Ee.b,{path:"/plant/:plantId/benchcard/:bctId",render:function(e){var a=e.match,n=parseInt(a.params.plantId),c=a.params.bctId,o=t.benchCardTemplates.filter((function(e){return e.id===c}))[0],i=t.plants.filter((function(e){return e.id===n||e.url_keyword===a.params.plantId}))[0];return i?o?l.a.createElement(l.a.Fragment,null,l.a.createElement(q.PDFViewer,{style:{width:"100vw",height:"90vh"},showToolbar:!1},l.a.createElement(ce,{benchCardTemplate:o,plant:i,region:r.city&&r.city.region||1,waterUseByCode:t.waterUseByCode}))):l.a.createElement("div",{className:"container-fluid my-5"},"No Bench Card found by that ID"):l.a.createElement("div",{className:"container-fluid my-5"},"No plant found by that ID")}}),l.a.createElement(Ee.b,{exact:!0,path:"/favorites"},l.a.createElement(ge,{favoritePlants:E,queryString:a.search,isPlantFavorite:y,togglePlantFavorite:k,searchCriteria:r,clearAllFavorites:function(){var e=Object.fromEntries(E.map((function(e){return[e.id,!1]}))),t=Object.fromEntries(E.map((function(e){return[e.id,!0]})));f(e);var a="";C(l.a.createElement("div",null,"Cleared favorites",l.a.createElement("button",{className:"btn btn-link",onClick:function(){f(t),x(a)}},"UNDO")),{appearance:"info",transitionState:"entered",autoDismiss:!0},(function(e){a=e}))},data:t})),l.a.createElement(Ee.b,{exact:!0,path:"/search",render:function(e){return l.a.createElement(pe,{queryString:a.search,searchCriteria:r,isPlantFavorite:y,togglePlantFavorite:k,setSearchCriteria:m,searchPerformed:(n=r,Object.values(n.waterUseClassifications).some((function(e){return e}))||Object.values(n.plantTypes).some((function(e){return e}))||n.name.length>0),resetSearchCriteria:c,addAllToFavorites:j,data:t});var n}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(818);fetch("https://wucols.blob.core.windows.net/wucols-export/meta/wucols-data.json").then((function(e){return e.json()})).then((function(e){return fetch(e.cachedBlobUrl)})).then((function(e){return e.json()})).then((function(e){window.wucols_data=e,e.plants.forEach((function(e){e.searchName=(e.commonName+" "+e.botanicalName).toLowerCase()})),e.plantTypeNameByCode=e.plantTypes.reduce((function(e,t){return e[t.code]=t.name,e}),{}),e.waterUseByCode=e.waterUseClassifications.reduce((function(e,t){return e[t.code]=t,e}),{}),e.cityOptions=e.cities.map((function(e){return{id:e.id,position:e.position,key:e.id,name:e.name,label:"Region "+e.region+": "+e.name,value:e.name,region:e.region}})).sort((function(e,t){return e.label>t.label?1:e.label<t.label?-1:0})),e.plantTypes=e.plantTypes.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),e.benchCardTemplates=e.benchCardTemplates.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),c.a.render(l.a.createElement(ye.ToastProvider,{autoDismiss:!0,placement:"bottom-center",autoDismissTimeout:6e3},l.a.createElement(O.a,null,l.a.createElement(Ne,{data:e}))),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[819,1,2]]]);
//# sourceMappingURL=main.8f5ca3cd.chunk.js.map